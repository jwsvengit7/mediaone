package com.example.test.ServiceImpl;import com.example.test.Entity.User;import com.example.test.Repositories.UserRepository;import com.example.test.Services.EmailSender;import jakarta.servlet.http.HttpSession;import lombok.RequiredArgsConstructor;import org.springframework.mail.SimpleMailMessage;import org.springframework.mail.javamail.JavaMailSender;import org.springframework.stereotype.Service;@Service@RequiredArgsConstructorpublic class EmailSenderImplementation implements EmailSender {    private final JavaMailSender sender;    private final UserRepository userRepository;    @Override    public Object otpVerication(HttpSession session, String OTP_REQUEST) {        String otp = (String) session.getAttribute("OTP");        String email = (String) session.getAttribute("email");        System.out.println(otp+" || "+OTP_REQUEST+" || "+ email);        if(otp.equals(OTP_REQUEST)){            User user = userRepository.findUsersByEmail(email);            if(user!=null) {                user.setActivate(true);                userRepository.save(user);                session.removeAttribute("email");                session.removeAttribute("OTP");                return "Success";            }else{                return null;            }        }        return null;    }    public void sendEmail(String email, HttpSession session){        SimpleMailMessage message = new SimpleMailMessage();        message.setFrom("temple.chiorlu@decagon.dev");        message.setSubject("SIGN UP OTP");        message.setTo(email);        message.setText("Welcome To Media One\n" +                "AUTHENTICATION PROCESS\n" +                "OTP VERIFICATION: " +session.getAttribute("OTP")+                "\n" +                "" +                "" +                "Thanks for Subscribing with us");        sender.send(message);    }}